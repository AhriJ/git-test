{
  "inode": {
    "org": "",
    "id": "cmdb_x-9mh7fqhpbhg3",
    "schema_id": "cmdb_schema_x-ghkfn72ezw6k",
    "name": "Agent上报服务器",
    "namespace": "",
    "descr": "",
    "ctime": 0,
    "mtime": 0,
    "creator": "",
    "last_editor": "",
    "archived": false,
    "lock": ""
  },
  "data": {
    "selects": [
      {
        "field": ".data.hostname",
        "name": "主机名"
      },
      {
        "field": ".indexes.cmdb_index-agent_status",
        "name": "Agent 状态"
      },
      {
        "field": ".data.cpu",
        "name": "vCPU 核数"
      },
      {
        "field": ".data.memory",
        "name": "内存"
      },
      {
        "field": ".indexes.cmdb_index-26mgotsn8v2tg",
        "name": "系统类型"
      },
      {
        "field": ".indexes.cmdb_index-system_server.data.os.os_dist",
        "name": "发行版"
      },
      {
        "field": ".indexes.cmdb_index-system_server.data.os.os_dist_ver",
        "name": "发行版版本"
      },
      {
        "field": ".indexes.cmdb_index-system_server.data.agent.local_config.proxy_endpoints",
        "name": "代理地址"
      },
      {
        "field": ".indexes.cmdb_index-2c3gcau1bnk85",
        "name": "内网 IP"
      },
      {
        "field": ".indexes.cmdb_index-xgm9kh3lu3mg",
        "name": "公网 IP"
      },
      {
        "field": ".indexes.cmdb_index-system_server.data.os.kernel_ver",
        "name": "内核版本"
      },
      {
        "field": ".indexes.cmdb_index-system_server.data.agent.version",
        "name": "Agent 版本"
      },
      {
        "field": ".indexes.cmdb_index-system_server.data.agent.run_level.current",
        "name": "运行等级"
      },
      {
        "field": ".indexes.cmdb_index-system_server.data.agent.uptime",
        "name": "运行时长"
      },
      {
        "field": ".indexes.cmdb_index-system_server.inode.mtime",
        "name": "最后上报时间"
      }
    ],
    "vars": [
      {
        "field": "$or",
        "op": "=-",
        "value": [
          {
            "field": "$and",
            "op": "=-",
            "value": [
              {
                "field": ".inode.name",
                "op": "=~",
                "value": "$empty",
                "is_array": false
              },
              {
                "field": ".indexes.cmdb_index-system_server",
                "op": "=",
                "value": "$empty",
                "is_array": false,
                "widget": "table"
              },
              {
                "field": ".indexes.cmdb_index-290dn7d3j221q",
                "op": "=",
                "value": "$empty",
                "is_array": false,
                "widget": "table"
              },
              {
                "field": ".indexes.cmdb_index-bpcupqkeo9v2",
                "op": "=",
                "value": "$empty",
                "is_array": false,
                "widget": "table"
              },
              {
                "field": ".indexes.cmdb_index-cloud_account",
                "op": "=",
                "value": "$empty",
                "is_array": false,
                "widget": "table"
              },
              {
                "field": ".indexes.cmdb_index-2e0wp2v7psuk2",
                "op": "=",
                "value": "$empty",
                "is_array": false,
                "widget": "table"
              },
              {
                "field": ".indexes.cmdb_index-yz6fqyqux7uo",
                "op": "=",
                "value": "$empty",
                "is_array": false,
                "widget": "table"
              },
              {
                "field": ".indexes.cmdb_index-1mq1ie4eq3np3",
                "op": "=",
                "value": "$empty",
                "is_array": false,
                "widget": "table"
              },
              {
                "field": ".indexes.cmdb_index-vendor",
                "op": "=",
                "value": "$empty",
                "is_array": false,
                "widget": "table"
              },
              {
                "field": ".indexes.cmdb_index-36je1wggke5wj",
                "op": "=",
                "value": "$empty",
                "is_array": false,
                "widget": "table"
              },
              {
                "field": ".indexes.cmdb_index-maep9bejx114",
                "op": "=-",
                "value": [
                  "$empty"
                ],
                "is_array": true,
                "widget": "table"
              }
            ]
          }
        ]
      }
    ],
    "conditions": [],
    "content": "{\"conditions\":[{\"field\":\"inode.schema_id\",\"op\":\"=-\",\"value\":{\"conditions\":[{\"field\":\".inode.schema_id\",\"op\":\"=-\",\"value\":[\"cmdb_schema_schema_x-0\"]}],\"objects\":[\"cmdb_schema_x-3bn8no4n0zd71\"],\"sorts\":[],\"multi\":true,\"selects\":[\".inode.name\",\".inode.schema_id\",\".inode.lock\",\".inode.mtime\",\".inode.last_editor\"],\"comment\":\"\",\"function\":\"db\",\"vars\":{}}},{\"field\":\"data.hostname\",\"op\":\"=\",\"value\":\"{var:vars.name}\"},{\"field\":\"indexes.cmdb_index-2c3gcau1bnk85\",\"op\":\"=\",\"value\":\"{var:vars.private_ip}\"},{\"field\":\"indexes.cmdb_index-y0cucwrj1yoo\",\"op\":\"=\",\"value\":\"{var:vars.server_type}\"},{\"field\":\"vars.name\",\"op\":\"=~\",\"value\":\"$empty\"},{\"field\":\".indexes.cmdb_index-system_server.inode.mtime\",\"op\":\"=\",\"value\":\"{var:vars.mtime}\"},{\"field\":\"vars.mtime\",\"op\":\"\u003e\",\"value\":0},{\"field\":\"vars.private_ip\",\"op\":\"=~\",\"value\":\"$empty\"},{\"field\":\"vars.server_type\",\"op\":\"=\",\"value\":\"$empty\"},{\"field\":\".indexes.cmdb_index-agent_status\",\"op\":\"=\",\"value\":\"{var:vars.state}\"},{\"field\":\"vars.state\",\"op\":\"=\",\"value\":\"$empty\"},{\"field\":\".indexes.cmdb_index-26mgotsn8v2tg\",\"op\":\"=\",\"value\":\"{var:vars.system_type}\"},{\"field\":\"vars.system_type\",\"op\":\"=\",\"value\":\"$empty\"},{\"field\":\".indexes.cmdb_index-system_server\",\"op\":\"!=\",\"value\":\"$null\"}],\"objects\":[\"$conditions\"],\"sorts\":[],\"multi\":true,\"selects\":[\".data.hostname as 主机名\",\".indexes.cmdb_index-agent_status as Agent 状态\",\".data.cpu\",\".data.memory as 内存\",\".indexes.cmdb_index-26mgotsn8v2tg as 系统类型\",\".indexes.cmdb_index-system_server.data.os.os_dist as 发行版\",\".indexes.cmdb_index-system_server.data.os.os_dist_ver as 发行版版本\",\".indexes.cmdb_index-system_server.data.agent.local_config.proxy_endpoints as 代理地址\",\".indexes.cmdb_index-2c3gcau1bnk85 as 内网 IP\",\".indexes.cmdb_index-xgm9kh3lu3mg as 公网 IP\",\".indexes.cmdb_index-system_server.data.os.kernel_ver as 内核版本\",\".indexes.cmdb_index-system_server.data.agent.version as Agent 版本\",\".indexes.cmdb_index-system_server.data.agent.run_level.current as 运行等级\",\".indexes.cmdb_index-system_server.data.agent.uptime as 运行时长\",\".indexes.cmdb_index-system_server.inode.mtime as 最后上报时间\"],\"comment\":\"\",\"function\":\"db\",\"vars\":{\"type\":\"object\",\"title\":\"root\",\"properties\":{\"vars\":{\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\",\"title\":\"主机名\"},\"private_ip\":{\"type\":\"string\",\"title\":\"内网 IP\"},\"server_type\":{\"type\":\"string\",\"title\":\"服务器类型\",\"default\":\"$empty\",\"enum\":[\"$empty\",\"裸金属\",\"虚拟机\",\"云主机\"],\"enumNames\":[\"所有\",\"裸金属\",\"私有云\",\"公有云\"]},\"state\":{\"type\":\"string\",\"title\":\"Agent 状态\",\"enum\":[\"$empty\",\"CREATED\",\"RUNNING\",\"STOPED\",\"REPORTED\"],\"enumNames\":[\"所有\",\"已安装\",\"运行中\",\"已停止\",\"已上报\"],\"default\":\"$empty\"},\"system_type\":{\"type\":\"string\",\"title\":\"操作系统\",\"enum\":[\"$empty\",\"Windows\",\"Linux\"],\"enumNames\":[\"所有\",\"Windows\",\"Linux\"],\"default\":\"$empty\"},\"mtime\":{\"type\":\"number\",\"title\":\"最后上报时间\",\"default\":0,\"format\":\"date-time\"}},\"required\":[]}}},\"limit\":10,\"offset\":0}",
    "advanced": true,
    "batch_edit_data": {
      "wf_id": "cmdb_workflow-3j91ai3r6buuc",
      "data": null
    },
    "delete_data": {
      "wf_id": "cmdb_workflow-35ki9gvnnbouv"
    },
    "edit_data": {
      "wf_id": "cmdb_workflow-yoxu632bxyoq",
      "data": null
    },
    "editable": false,
    "new_data": {
      "wf_id": "cmdb_workflow-2qxjqszl046va",
      "data": null
    },
    "ql": "cmdb_ql-3nbzul1rku7yw",
    "object_id": "cmdb_object_ql-1rx8iy7yg4m33",
    "forms": null
  },
  "indexes": {
    "cmdb_index-3b01as46nc0b7": false,
    "cmdb_index-5idpkmb7eqne": "cmdb_x-s_c4f36c3d"
  }
}